(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(44),s=a.n(c),i=a(9),o=a(2),u=a(45),l=a.n(u),v=a(0),p=function(e){var t=e.children;return Object(v.jsx)("div",{className:l.a.container,children:t})},h={home:"/",movieSearch:"/movies",movieDetails:"/movies/:movieId"},j=a(19),b=a.n(j),m=function(){return Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{className:b.a.NavLinksList,children:[Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{exact:!0,to:h.home,className:b.a.NavLink,activeClassName:b.a["NavLink-active"],children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{to:h.movieSearch,className:b.a.NavLink,activeClassName:b.a["NavLink-active"],children:"Movies"})})]})})},d=a(48),f=a.n(d),O=function(){return Object(v.jsx)("header",{className:f.a.AppHeader,children:Object(v.jsx)(p,{children:Object(v.jsx)(m,{})})})},x=a(18),_=a.n(x),N=(a(30),a(10)),y=a(12),k=a(13),g=a(14),S=a(15),L=a(3),w=a.n(L),M=a(50),I=a.n(M),C=function(e){var t=e.children;return Object(v.jsx)("section",{className:I.a.section,children:Object(v.jsx)(p,{children:t})})},T=a(51),B=a.n(T),F=function(e){var t=e.children;return Object(v.jsx)("ul",{className:B.a.MoviesList,children:t})},A=a(27),q=a.n(A),D=a.p+"static/media/defaultBackdropImg.c6d6e430.jpg",H=Object(o.g)((function(e){var t=e.movie,a=e.location,n=t.title,r=t.id,c=t.backdrop_path;return Object(v.jsx)("li",{className:q.a.MoviesListItem,children:Object(v.jsxs)(i.b,{to:{pathname:"/movies/".concat(r),state:{from:a}},children:[Object(v.jsx)("img",{src:c?"https://image.tmdb.org/t/p/w500/".concat(c):D,alt:n,className:q.a["MoviesListItem-image"]}),Object(v.jsx)("p",{className:q.a.MovieTitle,children:n})]})})})),E=a(20),J=a.n(E),R="16223fe9c5e964ded75cf49a9bba049a",U="https://api.themoviedb.org/3";function G(e){return z.apply(this,arguments)}function z(){return(z=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("".concat(U,"/movie/popular?api_key=").concat(R));case 3:return a=e.sent,e.abrupt("return",t(a.data.results));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("".concat(U,"/search/movie?api_key=").concat(R,"&query=").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Z(e){return V.apply(this,arguments)}function V(){return(V=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("".concat(U,"/movie/").concat(t,"?api_key=").concat(R));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function W(e){return P.apply(this,arguments)}function P(){return(P=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("".concat(U,"/movie/").concat(t,"/credits?api_key=").concat(R));case 3:return a=e.sent,e.abrupt("return",a.data.cast);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("".concat(U,"/movie/").concat(t,"/reviews?api_key=").concat(R));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var $=function(e){Object(g.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={popularMovies:[]},e.updateState=function(t){e.setState({popularMovies:t})},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(this.updateState);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.popularMovies;return Object(v.jsx)(C,{children:Object(v.jsx)(F,{children:e.map((function(e){return Object(v.jsx)(H,{movie:e},e.id)}))})})}}]),a}(n.Component),ee=$,te=a(11),ae=a(23),ne=a.n(ae),re=function(e){Object(g.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleInputChange=function(t){var a=t.currentTarget.value;e.setState({value:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.value;a&&e.props.onSubmit(a),e.reset()},e.reset=function(){e.setState({value:""})},e}return Object(k.a)(a,[{key:"render",value:function(){var e=this.state.value;return Object(v.jsxs)("form",{className:ne.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(v.jsx)("button",{type:"submit",className:ne.a["SearchForm-button"],children:Object(v.jsx)("span",{className:ne.a["SearchForm-button-label"],children:"Search"})}),Object(v.jsx)("input",{className:ne.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleInputChange})]})}}]),a}(n.Component),ce=re,se=a(52),ie=a.n(se),oe=function(e){Object(g.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,searchedMovies:[],query:""},e.handleSubmit=function(t){var a=e.props,n=a.history,r=a.location;e.setState({searchedMovies:[],query:t}),n.push(Object(te.a)(Object(te.a)({},r),{},{search:"?query=".concat(t)}))},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location,t=e.search;e.pathname&&t&&this.setState({query:ie.a.parse(t).query})}},{key:"componentDidUpdate",value:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.query,a.query===n){e.next=7;break}return this.setState({isLoading:!0}),e.next=5,K(n);case 5:r=e.sent,this.setState({searchedMovies:r,isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchedMovies,a=e.isLoading;return Object(v.jsxs)(C,{children:[Object(v.jsx)(ce,{onSubmit:this.handleSubmit}),Object(v.jsx)(F,{children:t.map((function(e){return Object(v.jsx)(H,{movie:e},e.id)}))}),a&&Object(v.jsx)(_.a,{type:"TailSpin",color:"#009688",height:80,width:80,className:"loader"})]})}}]),a}(n.Component),ue=oe,le=a(17),ve=a.n(le),pe=a.p+"static/media/defaultMovieImg.e881b926.jpg",he=function(e){var t=e.movie,a=t.title,n=t.poster_path,r=t.overview;return Object(v.jsxs)("div",{className:ve.a.MovieCard,children:[Object(v.jsx)("h1",{className:ve.a.MovieTitle,children:a}),Object(v.jsxs)("div",{className:ve.a.MovieInfo,children:[Object(v.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w500/".concat(n):pe,alt:a,width:"200"}),Object(v.jsxs)("div",{className:ve.a.about,children:[Object(v.jsx)("p",{className:ve.a.aboutTitle,children:"ABOUT"}),Object(v.jsx)("p",{className:ve.a.overview,children:r})]})]})]})},je=a(53),be=a.n(je),me=function(e){Object(g.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleGoBack=function(){var t,a=e.props,n=a.location;a.history.push((null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)||h.home)},e}return Object(k.a)(a,[{key:"render",value:function(){return Object(v.jsx)("button",{onClick:this.handleGoBack,className:be.a.Button,children:"Return"})}}]),a}(n.Component),de=me,fe=a(21),Oe=a.n(fe),xe=function(e){var t=e.url,a=e.location;return Object(v.jsxs)("ul",{className:Oe.a.NavLinksList,children:[Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{to:{pathname:"".concat(t,"/cast"),state:Object(te.a)({},a.state)},className:Oe.a.NavLink,activeClassName:Oe.a["NavLink-active"],children:"Cast"})}),Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{to:{pathname:"".concat(t,"/reviews"),state:Object(te.a)({},a.state)},className:Oe.a.NavLink,activeClassName:Oe.a["NavLink-active"],children:"Reviews"})})]})},_e=a(54),Ne=a.n(_e),ye=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,124))})),ke=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,125))})),ge=function(e){Object(g.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,cast:null,reviews:null},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t,a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,Z(t);case 3:return a=e.sent,e.next=6,W(t);case 6:return n=e.sent,e.next=9,Q(t);case 9:r=e.sent,this.setState({movie:a,cast:n,reviews:r});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.reviews,r=e.cast,c=this.props.match,s=c.url,i=c.path,u=this.props,l=u.location,p=u.history;return t?Object(v.jsxs)(C,{children:[Object(v.jsx)(he,{movie:t}),Object(v.jsx)(de,{location:l,history:p}),Object(v.jsx)(xe,{url:s,location:l}),Object(v.jsxs)(n.Suspense,{fallback:Object(v.jsx)(_.a,{type:"TailSpin",color:"#80cbc4",height:80,width:80,className:"loader"}),children:[Object(v.jsx)(o.b,{path:"".concat(i,"/cast"),render:function(e){return Object(v.jsx)(ye,Object(te.a)(Object(te.a)({},e),{},{cast:r}))}}),Object(v.jsx)(o.b,{path:"".concat(i,"/reviews"),render:function(e){return Ne.a.isEmpty(a)?Object(v.jsx)("p",{className:"no-reviews",children:"No reviews."}):Object(v.jsx)(ke,Object(te.a)(Object(te.a)({},e),{},{reviews:a}))}})]})]}):null}}]),a}(n.Component),Se=ge,Le=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O,{}),Object(v.jsx)(n.Suspense,{fallback:Object(v.jsx)(_.a,{type:"TailSpin",color:"#80cbc4",height:80,width:80,className:"loader"}),children:Object(v.jsxs)(o.d,{children:[Object(v.jsx)(o.b,{path:"/",exact:!0,component:ee}),Object(v.jsx)(o.b,{path:"/movies",exact:!0,component:ue}),Object(v.jsx)(o.b,{path:"/movies/:movieId",component:Se}),Object(v.jsx)(o.a,{to:"/"})]})})]})};a(118),a(119);s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(i.a,{children:Object(v.jsx)(Le,{})})}),document.getElementById("root"))},17:function(e,t,a){e.exports={MovieCard:"MovieCard_MovieCard__2ZJUI",MovieTitle:"MovieCard_MovieTitle__1inNk",MovieInfo:"MovieCard_MovieInfo__1hgVE",aboutTitle:"MovieCard_aboutTitle__29rDH",about:"MovieCard_about__1KAWu"}},19:function(e,t,a){e.exports={NavLinksList:"Navigation_NavLinksList__F5K9S",NavLink:"Navigation_NavLink__29227","NavLink-active":"Navigation_NavLink-active__3qsDS"}},21:function(e,t,a){e.exports={NavLinksList:"ExtraInfoBar_NavLinksList__1bSHH",NavLink:"ExtraInfoBar_NavLink__xlouq","NavLink-active":"ExtraInfoBar_NavLink-active__TckLv"}},23:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__2wIJ8","SearchForm-button":"Searchbar_SearchForm-button__1l03s","SearchForm-button-label":"Searchbar_SearchForm-button-label__tRrHp","SearchForm-input":"Searchbar_SearchForm-input__3f-A7"}},27:function(e,t,a){e.exports={MoviesListItem:"MoviesListItem_MoviesListItem__2aTI_","MoviesListItem-image":"MoviesListItem_MoviesListItem-image__3R9DR",MovieTitle:"MoviesListItem_MovieTitle__3v4aZ"}},45:function(e,t,a){e.exports={container:"Container_container__2GX5b"}},48:function(e,t,a){e.exports={AppHeader:"AppBar_AppHeader__ubfU1"}},50:function(e,t,a){e.exports={section:"Section_section__aNBXo"}},51:function(e,t,a){e.exports={MoviesList:"MoviesList_MoviesList__3DubJ"}},53:function(e,t,a){e.exports={Button:"BtnBack_Button__1_eJ5"}}},[[120,1,2]]]);
//# sourceMappingURL=main.62caa65e.chunk.js.map