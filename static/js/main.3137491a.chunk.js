(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(44),s=a.n(c),i=a(9),o=a(2),u=a(45),l=a.n(u),v=a(1),h=function(e){var t=e.children;return Object(v.jsx)("div",{className:l.a.container,children:t})},p={home:"/",movieSearch:"/movies",movieDetails:"/movies/:movieId"},j=a(19),b=a.n(j),m=function(){return Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{className:b.a.NavLinksList,children:[Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{exact:!0,to:p.home,className:b.a.NavLink,activeClassName:b.a["NavLink-active"],children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{to:p.movieSearch,className:b.a.NavLink,activeClassName:b.a["NavLink-active"],children:"Movies"})})]})})},d=a(48),f=a.n(d),O=function(){return Object(v.jsx)("header",{className:f.a.AppHeader,children:Object(v.jsx)(h,{children:Object(v.jsx)(m,{})})})},x=a(18),_=(a(30),a(10)),N=a(12),k=a(13),y=a(14),g=a(15),L=a(3),w=a.n(L),S=a(50),M=a.n(S),I=function(e){var t=e.children;return Object(v.jsx)("section",{className:M.a.section,children:Object(v.jsx)(h,{children:t})})},C=a(51),B=a.n(C),F=function(e){var t=e.children;return Object(v.jsx)("ul",{className:B.a.MoviesList,children:t})},T=a(27),A=a.n(T),q=a.p+"static/media/defaultBackdropImg.c6d6e430.jpg",D=Object(o.g)((function(e){var t=e.movie,a=e.location,n=t.title,r=t.id,c=t.backdrop_path;return Object(v.jsx)("li",{className:A.a.MoviesListItem,children:Object(v.jsxs)(i.b,{to:{pathname:"/movies/".concat(r),state:{from:a}},children:[Object(v.jsx)("img",{src:c?"https://image.tmdb.org/t/p/w500/".concat(c):q,alt:n,className:A.a["MoviesListItem-image"]}),Object(v.jsx)("p",{className:A.a.MovieTitle,children:n})]})})})),H=a(20),E=a.n(H),J="16223fe9c5e964ded75cf49a9bba049a",R="https://api.themoviedb.org/3";function U(e){return G.apply(this,arguments)}function G(){return(G=Object(_.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(R,"/movie/popular?api_key=").concat(J));case 3:return a=e.sent,e.abrupt("return",t(a.data.results));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function z(e){return K.apply(this,arguments)}function K(){return(K=Object(_.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(R,"/search/movie?api_key=").concat(J,"&query=").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(_.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(R,"/movie/").concat(t,"?api_key=").concat(J));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function V(e){return W.apply(this,arguments)}function W(){return(W=Object(_.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(R,"/movie/").concat(t,"/credits?api_key=").concat(J));case 3:return a=e.sent,e.abrupt("return",a.data.cast);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function P(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(_.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(R,"/movie/").concat(t,"/reviews?api_key=").concat(J));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Y=function(e){Object(y.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={popularMovies:[]},e.updateState=function(t){e.setState({popularMovies:t})},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(this.updateState);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.popularMovies;return Object(v.jsx)(I,{children:Object(v.jsx)(F,{children:e.map((function(e){return Object(v.jsx)(D,{movie:e},e.id)}))})})}}]),a}(n.Component),$=Y,ee=a(11),te=a(23),ae=a.n(te),ne=function(e){Object(y.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleInputChange=function(t){var a=t.currentTarget.value;e.setState({value:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.value;a&&e.props.onSubmit(a),e.reset()},e.reset=function(){e.setState({value:""})},e}return Object(k.a)(a,[{key:"render",value:function(){var e=this.state.value;return Object(v.jsxs)("form",{className:ae.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(v.jsx)("button",{type:"submit",className:ae.a["SearchForm-button"],children:Object(v.jsx)("span",{className:ae.a["SearchForm-button-label"],children:"Search"})}),Object(v.jsx)("input",{className:ae.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleInputChange})]})}}]),a}(n.Component),re=ne,ce=a(52),se=a.n(ce),ie=function(e){Object(y.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,searchedMovies:[],query:""},e.handleSubmit=function(t){var a=e.props,n=a.history,r=a.location;e.setState({searchedMovies:[],query:t}),n.push(Object(ee.a)(Object(ee.a)({},r),{},{search:"?query=".concat(t)}))},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location,t=e.search;e.pathname&&t&&this.setState({query:se.a.parse(t).query})}},{key:"componentDidUpdate",value:function(){var e=Object(_.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.query,a.query===n){e.next=7;break}return this.setState({isLoading:!0}),e.next=5,z(n);case 5:r=e.sent,this.setState({searchedMovies:r,isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchedMovies,a=e.isLoading;return Object(v.jsxs)(I,{children:[Object(v.jsx)(re,{onSubmit:this.handleSubmit}),Object(v.jsx)(F,{children:t.map((function(e){return Object(v.jsx)(D,{movie:e},e.id)}))}),a&&Object(v.jsx)(x.a,{color:"#009688",height:80,width:80,className:"loader"})]})}}]),a}(n.Component),oe=ie,ue=a(17),le=a.n(ue),ve=a.p+"static/media/defaultMovieImg.e881b926.jpg",he=function(e){var t=e.movie,a=t.title,n=t.poster_path,r=t.overview;return Object(v.jsxs)("div",{className:le.a.MovieCard,children:[Object(v.jsx)("h1",{className:le.a.MovieTitle,children:a}),Object(v.jsxs)("div",{className:le.a.MovieInfo,children:[Object(v.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w500/".concat(n):ve,alt:a,width:"200"}),Object(v.jsxs)("div",{className:le.a.about,children:[Object(v.jsx)("p",{className:le.a.aboutTitle,children:"ABOUT"}),Object(v.jsx)("p",{className:le.a.overview,children:r})]})]})]})},pe=a(53),je=a.n(pe),be=function(e){Object(y.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleGoBack=function(){var t,a=e.props,n=a.location;a.history.push((null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)||p.home)},e}return Object(k.a)(a,[{key:"render",value:function(){return Object(v.jsx)("button",{onClick:this.handleGoBack,className:je.a.Button,children:"Return"})}}]),a}(n.Component),me=be,de=a(21),fe=a.n(de),Oe=function(e){var t=e.url,a=e.location;return Object(v.jsxs)("ul",{className:fe.a.NavLinksList,children:[Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{to:{pathname:"".concat(t,"/cast"),state:Object(ee.a)({},a.state)},className:fe.a.NavLink,activeClassName:fe.a["NavLink-active"],children:"Cast"})}),Object(v.jsx)("li",{children:Object(v.jsx)(i.c,{to:{pathname:"".concat(t,"/reviews"),state:Object(ee.a)({},a.state)},className:fe.a.NavLink,activeClassName:fe.a["NavLink-active"],children:"Reviews"})})]})},xe=a(54),_e=a.n(xe),Ne=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,104))})),ke=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,105))})),ye=function(e){Object(y.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,cast:null,reviews:null},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(w.a.mark((function e(){var t,a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,X(t);case 3:return a=e.sent,e.next=6,V(t);case 6:return n=e.sent,e.next=9,P(t);case 9:r=e.sent,this.setState({movie:a,cast:n,reviews:r});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movie,a=e.reviews,r=e.cast,c=this.props.match,s=c.url,i=c.path,u=this.props,l=u.location,h=u.history;return t?Object(v.jsxs)(I,{children:[Object(v.jsx)(he,{movie:t}),Object(v.jsx)(me,{location:l,history:h}),Object(v.jsx)(Oe,{url:s,location:l}),Object(v.jsxs)(n.Suspense,{fallback:Object(v.jsx)(x.a,{color:"#80cbc4",height:80,width:80,className:"loader"}),children:[Object(v.jsx)(o.b,{path:"".concat(i,"/cast"),render:function(e){return Object(v.jsx)(Ne,Object(ee.a)(Object(ee.a)({},e),{},{cast:r}))}}),Object(v.jsx)(o.b,{path:"".concat(i,"/reviews"),render:function(e){return _e.a.isEmpty(a)?Object(v.jsx)("p",{className:"no-reviews",children:"No reviews."}):Object(v.jsx)(ke,Object(ee.a)(Object(ee.a)({},e),{},{reviews:a}))}})]})]}):null}}]),a}(n.Component),ge=ye,Le=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O,{}),Object(v.jsx)(n.Suspense,{fallback:Object(v.jsx)(x.a,{color:"#80cbc4",height:80,width:80,className:"loader"}),children:Object(v.jsxs)(o.d,{children:[Object(v.jsx)(o.b,{path:"/",exact:!0,component:$}),Object(v.jsx)(o.b,{path:"/movies",exact:!0,component:oe}),Object(v.jsx)(o.b,{path:"/movies/:movieId",component:ge}),Object(v.jsx)(o.a,{to:"/"})]})})]})};a(98),a(99);s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(i.a,{children:Object(v.jsx)(Le,{})})}),document.getElementById("root"))},17:function(e,t,a){e.exports={MovieCard:"MovieCard_MovieCard__2ZJUI",MovieTitle:"MovieCard_MovieTitle__1inNk",MovieInfo:"MovieCard_MovieInfo__1hgVE",aboutTitle:"MovieCard_aboutTitle__29rDH",about:"MovieCard_about__1KAWu"}},19:function(e,t,a){e.exports={NavLinksList:"Navigation_NavLinksList__F5K9S",NavLink:"Navigation_NavLink__29227","NavLink-active":"Navigation_NavLink-active__3qsDS"}},21:function(e,t,a){e.exports={NavLinksList:"ExtraInfoBar_NavLinksList__1bSHH",NavLink:"ExtraInfoBar_NavLink__xlouq","NavLink-active":"ExtraInfoBar_NavLink-active__TckLv"}},23:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__2wIJ8","SearchForm-button":"Searchbar_SearchForm-button__1l03s","SearchForm-button-label":"Searchbar_SearchForm-button-label__tRrHp","SearchForm-input":"Searchbar_SearchForm-input__3f-A7"}},27:function(e,t,a){e.exports={MoviesListItem:"MoviesListItem_MoviesListItem__2aTI_","MoviesListItem-image":"MoviesListItem_MoviesListItem-image__3R9DR",MovieTitle:"MoviesListItem_MovieTitle__3v4aZ"}},45:function(e,t,a){e.exports={container:"Container_container__2GX5b"}},48:function(e,t,a){e.exports={AppHeader:"AppBar_AppHeader__ubfU1"}},50:function(e,t,a){e.exports={section:"Section_section__aNBXo"}},51:function(e,t,a){e.exports={MoviesList:"MoviesList_MoviesList__3DubJ"}},53:function(e,t,a){e.exports={Button:"BtnBack_Button__1_eJ5"}},99:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.3137491a.chunk.js.map